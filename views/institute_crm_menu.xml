<?xml version="1.0" encoding="utf-8"?>
<odoo>
    
    <!-- Main Menu for Institute CRM -->
    <menuitem id="menu_institute_crm_root"
              name="Institute CRM"
              sequence="5"
              web_icon="institute_crm,static/description/icon.png"
              groups="sales_team.group_sale_salesman"/>

    <!-- Student Leads Menu -->
    <menuitem id="menu_institute_crm_leads"
              name="Student Leads"
              parent="menu_institute_crm_root"
              action="action_institute_crm_leads"
              sequence="10"/>

    <!-- Pipeline Menu -->
    <menuitem id="menu_institute_crm_pipeline"
              name="Pipeline"
              parent="menu_institute_crm_root"
              sequence="20"/>

    <!-- My Pipeline -->
    <record id="action_my_pipeline" model="ir.actions.act_window">
        <field name="name">My Pipeline</field>
        <field name="res_model">crm.lead</field>
        <field name="view_mode">kanban,tree,form,graph,pivot</field>
        <field name="domain">[]</field>
        <field name="context">{
            'search_default_my_leads': 1,
        }</field>
        <field name="search_view_id" ref="view_institute_crm_lead_search"/>
    </record>

    <menuitem id="menu_my_pipeline"
              name="My Pipeline"
              parent="menu_institute_crm_pipeline"
              action="action_my_pipeline"
              sequence="10"/>

    <!-- All Leads -->
    <record id="action_all_leads" model="ir.actions.act_window">
        <field name="name">All Leads</field>
        <field name="res_model">crm.lead</field>
        <field name="view_mode">tree,kanban,form,graph,pivot</field>
        <field name="domain">[]</field>
        <field name="context">{}</field>
        <field name="search_view_id" ref="view_institute_crm_lead_search"/>
    </record>

    <menuitem id="menu_all_leads"
              name="All Leads"
              parent="menu_institute_crm_pipeline"
              action="action_all_leads"
              sequence="20"
              groups="sales_team.group_sale_salesman_all_leads"/>

    <!-- Configuration Menu -->
    <menuitem id="menu_institute_crm_config"
              name="Configuration"
              parent="menu_institute_crm_root"
              sequence="100"
              groups="sales_team.group_sale_manager"/>

    <!-- Sales Teams -->
    <menuitem id="menu_institute_sales_teams"
              name="Sales Teams"
              parent="menu_institute_crm_config"
              action="sales_team.crm_team_action_config"
              sequence="10"/>

    <!-- Stages -->
    <menuitem id="menu_institute_stages"
              name="Stages"
              parent="menu_institute_crm_config"
              action="crm.crm_stage_action"
              sequence="20"/>

    <!-- Tags -->
    <menuitem id="menu_institute_tags"
              name="Tags"
              parent="menu_institute_crm_config"
              action="crm.crm_tag_action"
              sequence="30"/>

    <!-- Activity Types -->
    <menuitem id="menu_institute_activity_types"
              name="Activity Types"
              parent="menu_institute_crm_config"
              action="crm.mail_activity_type_action_config_crm"
              sequence="40"/>

    <!-- Reporting Menu -->
    <menuitem id="menu_institute_crm_reporting"
              name="Reporting"
              parent="menu_institute_crm_root"
              sequence="50"/>

    <!-- Pipeline Analysis -->
    <record id="action_pipeline_analysis" model="ir.actions.act_window">
        <field name="name">Pipeline Analysis</field>
        <field name="res_model">crm.lead</field>
        <field name="view_mode">graph,pivot,tree,form</field>
        <field name="domain">[]</field>
        <field name="context">{
            'search_default_stage': 1,
        }</field>
        <field name="search_view_id" ref="view_institute_crm_lead_search"/>
    </record>

    <menuitem id="menu_pipeline_analysis"
              name="Pipeline Analysis"
              parent="menu_institute_crm_reporting"
              action="action_pipeline_analysis"
              sequence="10"/>

</odoo>
